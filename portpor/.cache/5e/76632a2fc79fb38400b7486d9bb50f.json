{"id":"mapListView.html","dependencies":[{"name":"./css/mapListView.css","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/css/mapListView.css","parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/mapListView.html"},{"name":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/allContent.html","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/allContent.html","entry":true,"parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/mapListView.html"},{"name":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/mapListView.html","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/mapListView.html","entry":true,"parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/mapListView.html"},{"name":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/viewContent.html","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/viewContent.html","entry":true,"parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/mapListView.html"},{"name":"./images/facbook_logo.jpg","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/images/facbook_logo.jpg","parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/mapListView.html"},{"name":"./images/Instagram_logo.svg.png","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/images/Instagram_logo.svg.png","parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/mapListView.html"},{"name":"./images/youtube_logo.jpg","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/images/youtube_logo.jpg","parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/mapListView.html"},{"name":"_css_loader","parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/mapListView.html","resolved":"/opt/homebrew/lib/node_modules/parcel-bundler/src/builtins/css-loader.js"},{"name":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-07/portpor/package.json","includedInParent":true,"mtime":1664367434000}],"generated":{"html":"<!DOCTYPE html>\n<html lang=\"en\">\n\n<head>\n    <meta charset=\"UTF-8\">\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n    <link rel=\"stylesheet\" href=\"/4113b5ba57c57a4b0e2e3b81aaabdcb1.css\">\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css\">\n    <title>Document</title>\n</head>\n\n<body>\n    <header>\n        <div class=\"container\">\n            <div class=\"header_user\">\n                <ul>\n                    <li>로그인</li>\n                    <li>회원가입</li>\n                    <li>고객센터</li>\n                </ul>\n            </div>\n\n            <div class=\"header_logo\">\n                <a href=\"/\">SPREAD CULTURE</a>\n            </div>\n\n            <div class=\"header_category\">\n                <ul>\n                    <li>카테고리</li>\n                    <li><a href=\"/9c4c6c068e279a1c14aa4442a1decf55.html\"> 모든행사</a></li>\n                    <li><a href=\"/6050f33706e5baa41ba208ec8db56f92.html\"> 지도로 보기</a></li>\n                    <li><a href=\"/ef021986812a834d2a347da8493ddc44.html\">하나씩 보기</a></li>\n                    <li>게시판</li>\n                </ul>\n\n                <div class=\"search\"></div>\n            </div>\n        </div>\n    </header>\n\n\n    <div class=\"map_wrap\">\n        <div id=\"map\" style=\"width:100%;height:100%;position:relative;overflow:hidden;\"></div>\n\n        <div id=\"menu_wrap\" class=\"bg_white\">\n            <div class=\"option\">\n                <div>\n                    <form onsubmit=\"searchPlaces(); return false;\">\n                        키워드 : <input type=\"text\" value=\"용산 아트홀\" id=\"keyword\" size=\"15\">\n                        <button type=\"submit\">검색하기</button>\n                    </form>\n                </div>\n            </div>\n            <hr>\n            <ul id=\"placesList\"></ul>\n            <div id=\"pagination\"></div>\n        </div>\n    </div>\n\n    <footer class=\"footer\">\n        <ul class=\"inner\">\n            <li class=\"maker\">\n                <ul>\n                    <li>(주) SPREAD</li>\n                    <li>대표이사:ZOON | 사업자등록번호:123-42-04321</li>\n                    <li>경거도 부천시 오정로 428,1층</li>\n                    <li>개인 정보 관리 책임자:홍길동</li>\n                </ul>\n            </li>\n            <li class=\"contact\">\n                <ul>\n                    <li>CONTACT</li>\n                    <li>\n                        <img src=\"/f35ef74ad93522ebecf443ab1603e585.jpg\" alt=\"페이스북 로고 이미지\">\n                        <img src=\"/8d751143afdae7bf40ba38ecb4337599.png\" alt=\"인스타그램 로고 이미지\">\n                        <img src=\"/c728fdaa59dff1d8f9ad6c966b0200a6.jpg\" alt=\"유투브 로고 이미지\">\n                    </li>\n                    <li class=\"inquiry\">\n                        <ul>\n                            <li class=\"inquiry__title\">전화문의</li>\n                            <li class=\"inquiry__inform\">070-2312-1124</li>\n                        </ul>\n                        <ul>\n                            <li class=\"inquiry__title\">이메일 문의</li>\n                            <li class=\"inquiry__inform\">abc123@naver.com</li>\n                        </ul>\n                    </li>\n                    <li class=\"working\">MON - FRI 09:00 ~ 18:00 &nbsp; 주말,공휴일 휴무 &nbsp; BREAK TIME : 12:30 ~ 13:30</li>\n                </ul>\n            </li>\n            <li class=\"processing\">\n                <ul>\n                    <li class=\"processing__title\">개인정보 처리 방침</li>\n                    <li><a href=\"javscript:void(0)\" target=\"/\">이용약관</a></li>\n                    <li><a href=\"javscript:void(0)\" target=\"/\">고객센터</a></li>\n                    <li><a href=\"javscript:void(0)\" target=\"/\">이벤트</a></li>\n                </ul>\n            </li>\n        </ul>\n    </footer>\n\n    <script type=\"text/javascript\" src=\"//dapi.kakao.com/v2/maps/sdk.js?appkey=bf51ef41f2fd90c6eb0bce04220a493c&libraries=services\"></script>\n    <script>var eventData = [];\nfetch('http://openapi.seoul.go.kr:8088/6e6a4946797a6f6f35304c454b5974/json/culturalEventInfo/1/100/').then(function (res) {\n  if (res.status !== 200) {\n    console.log('서버와 통신이 실패했습니다.');\n  } else {\n    return res.json();\n  }\n}).then(function (jsonData) {\n  eventData = jsonData.culturalEventInfo.row; // for(let i = 0; i < data.length; i++) {\n  //     allPlace.push(data[i]['PLACE']);\n  // }\n  // console.log(allPlace);\n\n  return eventData;\n}).then(function (eventData) {\n  // 키워드로 장소를 검색합니다\n  searchPlaces(eventData);\n}); // 마커를 담을 배열입니다\n\nvar markers = [];\nvar mapContainer = document.getElementById('map'),\n    // 지도를 표시할 div \nmapOption = {\n  center: new kakao.maps.LatLng(37.566826, 126.9786567),\n  // 지도의 중심좌표\n  level: 3 // 지도의 확대 레벨\n\n}; // 지도를 생성합니다    \n\nvar map = new kakao.maps.Map(mapContainer, mapOption); // 장소 검색 객체를 생성합니다\n\nvar ps = new kakao.maps.services.Places(); // 검색 결과 목록이나 마커를 클릭했을 때 장소명을 표출할 인포윈도우를 생성합니다\n\nvar infowindow = new kakao.maps.InfoWindow({\n  zIndex: 1\n}); // 키워드 검색을 요청하는 함수입니다\n\nfunction searchPlaces(data) {\n  console.log(data);\n  var keyword = document.getElementById('keyword').value;\n\n  if (!keyword.replace(/^\\s+|\\s+$/g, '')) {\n    alert('키워드를 입력해주세요!');\n    return false;\n  } // 장소검색 객체를 통해 키워드로 장소검색을 요청합니다\n\n\n  ps.keywordSearch(keyword, placesSearchCB);\n} // 장소검색이 완료됐을 때 호출되는 콜백함수 입니다\n\n\nfunction placesSearchCB(data, status, pagination) {\n  if (status === kakao.maps.services.Status.OK) {\n    for (var i = 0; i < data.length; i++) {\n      var isbreak = false;\n      console.log('dataI', data[i].place_name);\n\n      for (var j = 0; j < eventData.length; j++) {\n        if (eventData[j].PLACE.includes(data[i].place_name)) {\n          isbreak = true;\n          console.log('dataPlace', data[i].place_name);\n          console.log('eventPlace', eventData[j].PLACE);\n          data = [data[i]];\n          console.log(data);\n          break;\n        }\n      }\n\n      if (isbreak) break;\n    }\n\n    displayPlaces(data); // 페이지 번호를 표출합니다\n\n    displayPagination(pagination);\n  } else if (status === kakao.maps.services.Status.ZERO_RESULT) {\n    alert('검색 결과가 존재하지 않습니다.');\n    return;\n  } else if (status === kakao.maps.services.Status.ERROR) {\n    alert('검색 결과 중 오류가 발생했습니다.');\n    return;\n  }\n} // 검색 결과 목록과 마커를 표출하는 함수입니다\n\n\nfunction displayPlaces(places) {\n  var listEl = document.getElementById('placesList'),\n      menuEl = document.getElementById('menu_wrap'),\n      fragment = document.createDocumentFragment(),\n      bounds = new kakao.maps.LatLngBounds(),\n      listStr = ''; // 검색 결과 목록에 추가된 항목들을 제거합니다\n\n  removeAllChildNods(listEl); // 지도에 표시되고 있는 마커를 제거합니다\n\n  removeMarker();\n\n  for (var i = 0; i < places.length; i++) {\n    // 마커를 생성하고 지도에 표시합니다\n    var placePosition = new kakao.maps.LatLng(places[i].y, places[i].x),\n        marker = addMarker(placePosition, i),\n        itemEl = getListItem(i, places[i]); // 검색 결과 항목 Element를 생성합니다\n    // 검색된 장소 위치를 기준으로 지도 범위를 재설정하기위해\n    // LatLngBounds 객체에 좌표를 추가합니다\n\n    bounds.extend(placePosition); // 마커와 검색결과 항목에 mouseover 했을때\n    // 해당 장소에 인포윈도우에 장소명을 표시합니다\n    // mouseout 했을 때는 인포윈도우를 닫습니다\n\n    (function (marker, title) {\n      kakao.maps.event.addListener(marker, 'mouseover', function () {\n        displayInfowindow(marker, title);\n      });\n      kakao.maps.event.addListener(marker, 'mouseout', function () {\n        infowindow.close();\n      });\n\n      itemEl.onmouseover = function () {\n        displayInfowindow(marker, title);\n      };\n\n      itemEl.onmouseout = function () {\n        infowindow.close();\n      };\n    })(marker, places[i].place_name);\n\n    fragment.appendChild(itemEl);\n  } // 검색결과 항목들을 검색결과 목록 Element에 추가합니다\n\n\n  listEl.appendChild(fragment);\n  menuEl.scrollTop = 0; // 검색된 장소 위치를 기준으로 지도 범위를 재설정합니다\n\n  map.setBounds(bounds);\n} // 검색결과 항목을 Element로 반환하는 함수입니다\n\n\nfunction getListItem(index, places) {\n  var el = document.createElement('li'),\n      itemStr = '<span class=\"markerbg marker_' + (index + 1) + '\"></span>' + '<div class=\"info\">' + '   <h5>' + places.place_name + '</h5>';\n\n  if (places.road_address_name) {\n    itemStr += '    <span>' + places.road_address_name + '</span>' + '   <span class=\"jibun gray\">' + places.address_name + '</span>';\n  } else {\n    itemStr += '    <span>' + places.address_name + '</span>';\n  }\n\n  itemStr += '  <span class=\"tel\">' + places.phone + '</span>' + '</div>';\n  el.innerHTML = itemStr;\n  el.className = 'item';\n  return el;\n} // 마커를 생성하고 지도 위에 마커를 표시하는 함수입니다\n\n\nfunction addMarker(position, idx, title) {\n  var imageSrc = 'https://t1.daumcdn.net/localimg/localimages/07/mapapidoc/marker_number_blue.png',\n      // 마커 이미지 url, 스프라이트 이미지를 씁니다\n  imageSize = new kakao.maps.Size(36, 37),\n      // 마커 이미지의 크기\n  imgOptions = {\n    spriteSize: new kakao.maps.Size(36, 691),\n    // 스프라이트 이미지의 크기\n    spriteOrigin: new kakao.maps.Point(0, idx * 46 + 10),\n    // 스프라이트 이미지 중 사용할 영역의 좌상단 좌표\n    offset: new kakao.maps.Point(13, 37) // 마커 좌표에 일치시킬 이미지 내에서의 좌표\n\n  },\n      markerImage = new kakao.maps.MarkerImage(imageSrc, imageSize, imgOptions),\n      marker = new kakao.maps.Marker({\n    position: position,\n    // 마커의 위치\n    image: markerImage\n  });\n  marker.setMap(map); // 지도 위에 마커를 표출합니다\n\n  markers.push(marker); // 배열에 생성된 마커를 추가합니다\n\n  return marker;\n} // 지도 위에 표시되고 있는 마커를 모두 제거합니다\n\n\nfunction removeMarker() {\n  for (var i = 0; i < markers.length; i++) {\n    markers[i].setMap(null);\n  }\n\n  markers = [];\n} // 검색결과 목록 하단에 페이지번호를 표시는 함수입니다\n\n\nfunction displayPagination(pagination) {\n  var paginationEl = document.getElementById('pagination'),\n      fragment = document.createDocumentFragment(),\n      i; // 기존에 추가된 페이지번호를 삭제합니다\n\n  while (paginationEl.hasChildNodes()) {\n    paginationEl.removeChild(paginationEl.lastChild);\n  }\n\n  for (i = 1; i <= pagination.last; i++) {\n    var el = document.createElement('a');\n    el.href = \"#\";\n    el.innerHTML = i;\n\n    if (i === pagination.current) {\n      el.className = 'on';\n    } else {\n      el.onclick = function (i) {\n        return function () {\n          pagination.gotoPage(i);\n        };\n      }(i);\n    }\n\n    fragment.appendChild(el);\n  }\n\n  paginationEl.appendChild(fragment);\n} // 검색결과 목록 또는 마커를 클릭했을 때 호출되는 함수입니다\n// 인포윈도우에 장소명을 표시합니다\n\n\nfunction displayInfowindow(marker, title) {\n  var content = '<div style=\"padding:5px;z-index:1;\">' + title + '</div>';\n  infowindow.setContent(content);\n  infowindow.open(map, marker);\n} // 검색결과 목록의 자식 Element를 제거하는 함수입니다\n\n\nfunction removeAllChildNods(el) {\n  while (el.hasChildNodes()) {\n    el.removeChild(el.lastChild);\n  }\n}</script>\n</body>\n\n</html>"},"sourceMaps":null,"error":null,"hash":"08d3cb8e5ebf3e5d475ca1b7a7b73322","cacheData":{"env":{}}}