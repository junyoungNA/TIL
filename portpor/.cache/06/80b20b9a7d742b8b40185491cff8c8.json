{"id":"allcontent.html","dependencies":[{"name":"./css/allcontent.css","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/css/allcontent.css","parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/allcontent.html"},{"name":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/allcontent.html","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/allcontent.html","entry":true,"parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/allcontent.html"},{"name":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/mapListView.html","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/mapListView.html","entry":true,"parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/allcontent.html"},{"name":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/viewContent.html","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/viewContent.html","entry":true,"parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/allcontent.html"},{"name":"./images/facbook_logo.jpg","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/images/facbook_logo.jpg","parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/allcontent.html"},{"name":"./images/Instagram_logo.svg.png","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/images/Instagram_logo.svg.png","parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/allcontent.html"},{"name":"./images/youtube_logo.jpg","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/images/youtube_logo.jpg","parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/allcontent.html"},{"name":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/package.json","includedInParent":true,"mtime":1664367434000}],"generated":{"html":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n    <link rel=\"stylesheet\" href=\"/d3a5dd56755aea449c2924feb3384153.css\">\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css\">\r\n    <title>allcontent</title>\r\n</head>\r\n<body>\r\n    <header>\r\n        <div class=\"container\">\r\n            <div class=\"header_user\">\r\n                <ul>\r\n                    <li>로그인</li>\r\n                    <li>회원가입</li>\r\n                    <li>고객센터</li>\r\n                </ul>\r\n            </div>\r\n            \r\n            <div class=\"header_logo\">\r\n                <a href=\"/\">SPREAD CULTURE</a>\r\n            </div>\r\n            \r\n            <div class=\"header_category\">\r\n                <ul>\r\n                    <li>카테고리</li>\r\n                    <li><a href=\"/54c306217615146568374b3d51ab8ddf.html\"> 모든행사</a></li>\r\n                    <li><a href=\"/6050f33706e5baa41ba208ec8db56f92.html\"> 지도로 보기</a></li>\r\n                    <li><a href=\"/ef021986812a834d2a347da8493ddc44.html\">하나씩 보기</a></li>\r\n                    <li>게시판</li>\r\n                </ul>\r\n                \r\n                <div class=\"search\"></div> \r\n            </div>\r\n        </div>\r\n    </header>\r\n    \r\n    <!-- Main -->\r\n    <main>\r\n        <div class=\"container\"></div>\r\n        <div class=\"paging\"></div>\r\n\r\n        <div class=\"search_input\">\r\n            <select name=\"category\" id=\"category\">\r\n                <option value=\"place\">장소</option>\r\n                <option value=\"title\">제목</option>\r\n                <option value=\"date\">날짜</option>\r\n            </select>\r\n            <input id=\"search\" type=\"text\"> \r\n            <button class=\"searchBtn\">검색</button>\r\n        </div>\r\n    </main>\r\n    \r\n\r\n    <footer class=\"footer\">\r\n        <ul class=\"inner\">\r\n            <li class=\"maker\">\r\n                <ul>\r\n                    <li>(주) SPREAD</li>\r\n                    <li>대표이사:ZOON | 사업자등록번호:123-42-04321</li>\r\n                    <li>경거도 부천시 오정로 428,1층</li>\r\n                    <li>개인 정보 관리 책임자:홍길동</li>\r\n                </ul>\r\n            </li>\r\n            <li class=\"contact\">\r\n                <ul>\r\n                    <li>CONTACT</li>\r\n                    <li>\r\n                        <img src=\"/f35ef74ad93522ebecf443ab1603e585.jpg\" alt=\"페이스북 로고 이미지\">\r\n                        <img src=\"/8d751143afdae7bf40ba38ecb4337599.png\" alt=\"인스타그램 로고 이미지\">\r\n                        <img src=\"/c728fdaa59dff1d8f9ad6c966b0200a6.jpg\" alt=\"유투브 로고 이미지\">\r\n                    </li>\r\n                    <li class=\"inquiry\">\r\n                        <ul>\r\n                            <li class=\"inquiry__title\">전화문의</li>\r\n                            <li class=\"inquiry__inform\">070-2312-1124</li>\r\n                        </ul>\r\n                        <ul>\r\n                            <li class=\"inquiry__title\">이메일 문의</li>\r\n                            <li class=\"inquiry__inform\">abc123@naver.com</li>\r\n                        </ul>\r\n                    </li>\r\n                    <li class=\"working\">MON - FRI 09:00 ~ 18:00 &nbsp; 주말,공휴일 휴무 &nbsp; BREAK TIME : 12:30 ~ 13:30</li>\r\n                </ul>\r\n            </li>\r\n            <li class=\"processing\">\r\n                <ul>\r\n                    <li class=\"processing__title\">개인정보 처리 방침</li>\r\n                    <li><a href=\"javscript:void(0)\" target=\"/\">이용약관</a></li>\r\n                    <li><a href=\"javscript:void(0)\" target=\"/\">고객센터</a></li>\r\n                    <li><a href=\"javscript:void(0)\" target=\"/\">이벤트</a></li>\r\n                </ul>\r\n            </li>\r\n        </ul>\r\n</footer>\r\n\r\n    <script>var data = {};\nvar searchInput = document.querySelector('main > .search_input > #search');\nvar searchSelect = document.querySelector('main > .search_input > #category');\nvar searchBtn = document.querySelector('main > .search_input > .searchBtn');\nvar mainContainer = document.querySelector('main > .container');\nvar pagingEle = document.querySelector('main > .paging');\nfetch('http://openapi.seoul.go.kr:8088/6e6a4946797a6f6f35304c454b5974/json/culturalEventInfo/1/200/').then(function (res) {\n  if (res.status !== 200) {\n    console.log('서버와 통신이 실패했습니다.');\n  } else {\n    return res.json();\n  }\n}).then(function (jsonData) {\n  data = jsonData.culturalEventInfo.row;\n  console.log(data);\n  viewContent(1, data);\n});\n\nfunction paginationInfo(currentPageNo, totalRecordCount) {\n  // https://www.egovframe.go.kr/wiki/doku.php?id=egovframework:rte:ptl:view:paginationtag\n  // currentPageNo        \t현재 페이지 번호                   \tyes\n  // recordCountPerPage   \t한 페이지당 게시되는 게시물 건 수     \tyes\n  // pageSize             \t페이지 리스트에 게시되는 페이지 건수    \tyes\n  // totalRecordCount     \t전체 게시물 건 수                  \tyes\n  // totalPageCount       \t페이지 개수                      \tno\ttotalPageCount = ((totalRecordCount-1)/recordCountPerPage) + 1\n  // firstPageNoOnPageList\t페이지 리스트의 첫 페이지 번호       \tno\tfirstPageNoOnPageList = ((currentPageNo-1)/pageSize)*pageSize + 1\n  // lastPageNoOnPageList \t페이지 리스트의 마지막 페이지 번호     \tno\tlastPageNoOnPageList = firstPageNoOnPageList+pageSize-1\n  // if (lastPageNoOnPageList>totalRecordCount) {\n  //     lastPageNoOnPageList=totalPageCount\n  // }\n  // firstRecordIndex     \t페이징 SQL의 조건절에 사용되는 시작 rownum    \tno\tfirstRecordIndex = (currentPageNo - 1) * recordCountPerPage\n  // lastRecordIndex      \t페이징 SQL의 조건절에 사용되는 마지막 rownum   \tno\tlastRecordIndex = currentPageNo * recordCountPerPage\n  var recordCountPerPage = 16;\n  var pageSize = 10;\n  var totalPageCount = Math.trunc((totalRecordCount - 1) / recordCountPerPage) + 1;\n  var firstPageNoOnPageList = Math.trunc((currentPageNo - 1) / pageSize) * pageSize + 1;\n  var lastPageNoOnPageList = firstPageNoOnPageList + pageSize - 1;\n\n  if (lastPageNoOnPageList > totalPageCount) {\n    lastPageNoOnPageList = totalPageCount;\n  }\n\n  var firstRecordIndex;\n  var lastRecordIndex;\n  return {\n    currentPageNo: currentPageNo,\n    recordCountPerPage: recordCountPerPage,\n    pageSize: pageSize,\n    totalRecordCount: totalRecordCount,\n    totalPageCount: totalPageCount,\n    firstPageNoOnPageList: firstPageNoOnPageList,\n    lastPageNoOnPageList: lastPageNoOnPageList,\n    firstRecordIndex: firstRecordIndex,\n    lastRecordIndex: lastRecordIndex\n  };\n}\n\nfunction viewContent(currentPageNo, inFormData, indexArr) {\n  mainContainer.textContent = '';\n  var info = paginationInfo(currentPageNo, inFormData.length);\n  var endtNo = currentPageNo * info.recordCountPerPage;\n  var startNo = endtNo - info.recordCountPerPage;\n\n  for (var i = startNo; i < endtNo; i++) {\n    if (inFormData[i] === undefined) {\n      console.log('데이터 없음');\n      break;\n    }\n\n    var inner = document.createElement('div');\n    inner.classList.add('content'); // 검색기능 때문에 넣은 indexArr 처리하는부분\n\n    inner.dataset.contentId = indexArr === undefined ? i : indexArr[i];\n    var imgEle = document.createElement('img');\n    imgEle.src = inFormData[i].MAIN_IMG;\n    inner.appendChild(imgEle);\n    var ulEle = document.createElement('ul');\n\n    for (var j = 0; j < 3; j++) {\n      var liEle = document.createElement('li');\n\n      switch (j) {\n        case 0:\n          liEle.textContent = inFormData[i].CODENAME;\n          break;\n\n        case 1:\n          liEle.textContent = '제목 : ' + inFormData[i].TITLE;\n          break;\n\n        case 2:\n          liEle.textContent = inFormData[i].GUNAME;\n          break;\n      }\n\n      ulEle.appendChild(liEle);\n    }\n\n    inner.appendChild(ulEle);\n    mainContainer.appendChild(inner);\n  }\n\n  paging(currentPageNo, inFormData);\n  pagingEle.addEventListener('click', function (event) {\n    var pageNo = event.target.dataset.currentPageNo;\n    viewContent(pageNo, inFormData);\n  });\n  viewAddClickEvent();\n}\n\nfunction paging() {\n  var currentPageNo = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n  var inFormData = arguments.length > 1 ? arguments[1] : undefined;\n  var info = paginationInfo(currentPageNo, inFormData.length);\n  pagingEle.textContent = '';\n\n  if (info.firstPageNoOnPageList > info.pageSize) {\n    //  < 버튼을 추가\n    var button = document.createElement('button');\n    button.classList.add('numBtn');\n    button.textContent = '<';\n    button.dataset.currentPageNo = String(info.firstPageNoOnPageList - 1);\n    pagingEle.appendChild(button);\n  }\n\n  for (var i = info.firstPageNoOnPageList; i < info.lastPageNoOnPageList + 1; i++) {\n    var _button = document.createElement('button');\n\n    _button.classList.add('numBtn');\n\n    if (Number(currentPageNo) === i) {\n      _button.classList.add('current');\n    }\n\n    _button.textContent = String(i);\n    _button.dataset.currentPageNo = String(i);\n    pagingEle.appendChild(_button);\n  }\n\n  if (info.totalPageCount > info.lastPageNoOnPageList) {\n    // > 버튼을 추가\n    var _button2 = document.createElement('button');\n\n    _button2.classList.add('numBtn');\n\n    _button2.textContent = '>';\n    _button2.dataset.currentPageNo = String(info.lastPageNoOnPageList + 1);\n    pagingEle.appendChild(_button2);\n  }\n}\n\nsearchSelect.addEventListener('change', function () {\n  var select = searchSelect.options[searchSelect.selectedIndex].value;\n\n  switch (select) {\n    case 'date':\n      searchInput.setAttribute('type', 'date');\n      break;\n\n    case 'place':\n    case 'title':\n      searchInput.setAttribute('type', 'text');\n      break;\n  }\n});\nsearchInput.addEventListener('keydown', function (event) {\n  if (event.key === 'Enter') {\n    var resultData = [];\n    var indexArr = [];\n    var inputValue = searchInput.value;\n    var select = searchSelect.options[searchSelect.selectedIndex].value;\n\n    if (select === 'place') {\n      for (var i = 0; i < data.length; i++) {\n        if (data[i].GUNAME.includes(inputValue) || data[i].PLACE.includes(inputValue)) {\n          resultData.push(data[i]);\n          indexArr.push(i);\n        }\n\n        if (i === data.length - 1) {\n          alert('검색 결과 없음');\n          return;\n        }\n      }\n    }\n\n    if (select === 'title') {\n      for (var _i = 0; _i < data.length; _i++) {\n        if (data[_i].TITLE.includes(inputValue)) {\n          resultData.push(data[_i]);\n          indexArr.push(_i);\n        }\n\n        if (_i === data.length - 1) {\n          alert('검색 결과 없음');\n          return;\n        }\n      }\n    }\n\n    viewContent(1, resultData, indexArr);\n  }\n});\nsearchBtn.addEventListener('click', function (event) {\n  var resultData = [];\n  var indexArr = [];\n  var inputValue = searchInput.value;\n  var select = searchSelect.options[searchSelect.selectedIndex].value;\n\n  if (select === 'date') {\n    for (var i = 0; i < data.length; i++) {\n      var dateArr = data[i].DATE.split('~');\n\n      for (var j = 0; j < dateArr.length; j++) {\n        if (inputValue === dateArr[j]) {\n          indexArr.push(i);\n          console.log('검색 결과있음');\n          resultData.push(data[i]);\n          break;\n        }\n      }\n\n      if (i === data.length - 1) {\n        alert('검색 결과 없음');\n        return;\n      }\n    }\n  }\n\n  if (select === 'place') {\n    for (var _i2 = 0; _i2 < data.length; _i2++) {\n      if (data[_i2].GUNAME.includes(inputValue) || data[_i2].PLACE.includes(inputValue)) {\n        resultData.push(data[_i2]);\n        indexArr.push(_i2);\n      }\n\n      if (_i2 === data.length - 1) {\n        alert('검색 결과 없음');\n        return;\n      }\n    }\n  }\n\n  if (select === 'title') {\n    for (var _i3 = 0; _i3 < data.length; _i3++) {\n      if (data[_i3].TITLE.includes(inputValue)) {\n        console.log(inputValue);\n        resultData.push(data[_i3]);\n        indexArr.push(_i3);\n      }\n\n      if (_i3 === data.length - 1) {\n        alert('검색 결과 없음');\n        return;\n      }\n    }\n  }\n\n  viewContent(1, resultData, indexArr);\n});\n\nfunction viewAddClickEvent() {\n  var containers = document.querySelectorAll('main > .container > .content');\n\n  for (var i = 0; i < containers.length; i++) {\n    containers[i].addEventListener('click', function (event) {\n      var targetNum = Number(event.currentTarget.dataset.contentId);\n      console.log('targetNum', targetNum);\n      location.href = 'viewContent.html?id=' + targetNum;\n    });\n  }\n}</script>\r\n\r\n\r\n</body>\r\n</html>"},"sourceMaps":null,"error":null,"hash":"4c748e119f77f876c6d46fa48074ae5b","cacheData":{"env":{}}}