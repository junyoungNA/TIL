{"id":"viewContent.html","dependencies":[{"name":"./css/viewContent.css","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/css/viewContent.css","parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/viewContent.html"},{"name":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/allcontent.html","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/allcontent.html","entry":true,"parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/viewContent.html"},{"name":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/mapListView.html","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/mapListView.html","entry":true,"parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/viewContent.html"},{"name":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/viewContent.html","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/viewContent.html","entry":true,"parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/viewContent.html"},{"name":"./images/facbook_logo.jpg","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/images/facbook_logo.jpg","parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/viewContent.html"},{"name":"./images/Instagram_logo.svg.png","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/images/Instagram_logo.svg.png","parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/viewContent.html"},{"name":"./images/youtube_logo.jpg","dynamic":true,"resolved":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/images/youtube_logo.jpg","parent":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/viewContent.html"},{"name":"/Users/devfuner_m1max/Library/Mobile Documents/com~apple~CloudDocs/WebstormProjects/studyjs/student/나준영/2022-10-12/portpor/package.json","includedInParent":true,"mtime":1664367434000}],"generated":{"html":"<!DOCTYPE html>\r\n<html lang=\"en\">\r\n<head>\r\n    <meta charset=\"UTF-8\">\r\n    <meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge\">\r\n    <meta name=\"viewport\" content=\"width=\r\n    , initial-scale=1.0\">\r\n    <link rel=\"stylesheet\" href=\"/1e4f4b223be3fc1d8c563094e945fff1.css\">\r\n    <link rel=\"stylesheet\" href=\"https://cdn.jsdelivr.net/npm/reset-css@5.0.1/reset.min.css\">\r\n    <title>viewContent</title>\r\n</head>\r\n<body>\r\n    <!-- HEADER -->\r\n    <header>\r\n        <div class=\"container\">\r\n            <div class=\"header_user\">\r\n                <ul>\r\n                    <li>로그인</li>\r\n                    <li>회원가입</li>\r\n                    <li>고객센터</li>\r\n                </ul>\r\n            </div>\r\n            \r\n            <div class=\"header_logo\">\r\n                <a href=\"/\">SPREAD CULTURE</a>\r\n            </div>\r\n            \r\n            <div class=\"header_category\">\r\n                <ul>\r\n                    <li>카테고리</li>\r\n                    <li><a href=\"/54c306217615146568374b3d51ab8ddf.html\"> 모든행사</a></li>\r\n                    <li><a href=\"/6050f33706e5baa41ba208ec8db56f92.html\"> 지도로 보기</a></li>\r\n                    <li><a href=\"/ef021986812a834d2a347da8493ddc44.html\">하나씩 보기</a></li>\r\n                    <li>게시판</li>\r\n                </ul>\r\n                \r\n                <div class=\"search\"></div> \r\n            </div>\r\n        </div>\r\n    </header>\r\n\r\n    <!-- MAIN -->\r\n    <main>\r\n        <div class=\"container inform\"> \r\n            <img src=\"\" alt=\"행사 이미지\" class=\"content_img\">\r\n            <!-- 공연,행사명 title/ 날짜,시간 date / 장소  place / 이용요금use_fee / 출연자 정보 player / 프로그램 소개  program / 기타내용 etc_desc/ 홈페이지 주소 org_link/-->\r\n            <fieldset>\r\n                <ul>\r\n                    <li class=\"inform_title\">\r\n                        <legend> 제목 : <input type=\"text\" readonly=\"\"></legend>\r\n                    </li>\r\n                    <li class=\"inform_date\">\r\n                        <legend>행사 기간 : <input type=\"text\" readonly=\"\"></legend>\r\n                    </li>\r\n                    <li class=\"inform_place\">\r\n                        <legend>장소 : <input type=\"text\" readonly=\"\"></legend>\r\n                    </li>\r\n                    <li class=\"inform_fee\">\r\n                        <legend>이용요금 : <input type=\"text\" readonly=\"\"> </legend>\r\n                    </li>\r\n                    <li class=\"inform_player\">\r\n                        <legend>출연진 : <input type=\"text\" readonly=\"\"></legend>\r\n                    </li>\r\n                    <li class=\"inform_program\">\r\n                        <div>프로그램 소개:</div>\r\n                        <p></p>\r\n                    </li>\r\n                    <li class=\"inform_desc\">\r\n                        <p></p>\r\n                    </li>\r\n                    <li class=\"inform_link\">\r\n                        <a href=\"\">해당 홈페이지 바로가기</a>\r\n                    </li>\r\n                </ul>\r\n                <div class=\"kakaoMap\"></div>\r\n                <div class=\"errorMessage\">죄송합니다. 해당 위치 정보를 조회할 수 없습니다, 해당 페이지를 참고해주세요.</div>\r\n                <button class=\"inform_button\"></button>\r\n                <button class=\"inform_kakaoMap\"></button>\r\n            </fieldset>\r\n            \r\n            <!-- <div class=\"paging\">\r\n                <ul>\r\n                    <li class=\"movePage preBtn\"><button data-move=\"prev\"> &lsaquo;</button></li>\r\n                    <li class=\"numBtn\"> 1 </li>\r\n                    <li class=\"movePage nextBtn\"><button data-move=\"next\"> &rsaquo;</button></li>\r\n                </ul>\r\n            </div> -->\r\n        </div>\r\n    </main>\r\n\r\n    <!-- FOOTER -->\r\n    <footer class=\"footer\">\r\n        <ul class=\"inner\">\r\n            <li class=\"maker\">\r\n                <ul>\r\n                    <li>(주) SPREAD</li>\r\n                    <li>대표이사:ZOON | 사업자등록번호:123-42-04321</li>\r\n                    <li>경거도 부천시 오정로 428,1층</li>\r\n                    <li>개인 정보 관리 책임자:홍길동</li>\r\n                </ul>\r\n            </li>\r\n            <li class=\"contact\">\r\n                <ul>\r\n                    <li>CONTACT</li>\r\n                    <li>\r\n                        <img src=\"/f35ef74ad93522ebecf443ab1603e585.jpg\" alt=\"페이스북 로고 이미지\">\r\n                        <img src=\"/8d751143afdae7bf40ba38ecb4337599.png\" alt=\"인스타그램 로고 이미지\">\r\n                        <img src=\"/c728fdaa59dff1d8f9ad6c966b0200a6.jpg\" alt=\"유투브 로고 이미지\">\r\n                    </li>\r\n                    <li class=\"inquiry\">\r\n                        <ul>\r\n                            <li class=\"inquiry__title\">전화문의</li>\r\n                            <li class=\"inquiry__inform\">070-2312-1124</li>\r\n                        </ul>\r\n                        <ul>\r\n                            <li class=\"inquiry__title\">이메일 문의</li>\r\n                            <li class=\"inquiry__inform\">abc123@naver.com</li>\r\n                        </ul>\r\n                    </li>\r\n                    <li class=\"working\">MON - FRI 09:00 ~ 18:00 &nbsp; 주말,공휴일 휴무 &nbsp; BREAK TIME : 12:30 ~ 13:30</li>\r\n                </ul>\r\n            </li>\r\n            <li class=\"processing\">\r\n                <ul>\r\n                    <li class=\"processing__title\">개인정보 처리 방침</li>\r\n                    <li><a href=\"javscript:void(0)\" target=\"/\">이용약관</a></li>\r\n                    <li><a href=\"javscript:void(0)\" target=\"/\">고객센터</a></li>\r\n                    <li><a href=\"javscript:void(0)\" target=\"/\">이벤트</a></li>\r\n                </ul>\r\n            </li>\r\n        </ul>\r\n</footer>\r\n\r\n<script type=\"text/javascript\" src=\"//dapi.kakao.com/v2/maps/sdk.js?appkey=bf51ef41f2fd90c6eb0bce04220a493c&libraries=services\"></script>\r\n    <script>var data = {};\nvar informField = document.querySelector('.container > fieldset > ul');\nvar kakaoMapField = document.querySelector('.container > fieldset > .kakaoMap');\nvar errorMessage = document.querySelector('.container > fieldset > .errorMessage');\nvar infowindow = new kakao.maps.InfoWindow({\n  zIndex: 1\n});\nvar contentIMG = document.querySelector('.content_img');\nvar title = document.querySelector('.inform_title > legend > input');\nvar date = document.querySelector('.inform_date > legend > input');\nvar place = document.querySelector('.inform_place > legend > input');\nvar fee = document.querySelector('.inform_fee > legend > input');\nvar player = document.querySelector('.inform_player > legend > input');\nvar program = document.querySelector('.inform_program > p');\nvar desc = document.querySelector('.inform_desc > p');\nvar link = document.querySelector('.inform_link > a');\nvar informBtn = document.querySelector('.inform_button');\nvar kakaoBtn = document.querySelector('.inform_kakaoMap'); //현제 데이터 100개만 가져오게 제한\n//데이터에 제한만큼에 페이징처리가 넘어갔을시에 처리를 해줘야함;\n\nfetch('http://openapi.seoul.go.kr:8088/6e6a4946797a6f6f35304c454b5974/json/culturalEventInfo/1/100/').then(function (res) {\n  if (res.status !== 200) {\n    console.log('서버와 통신이 실패했습니다.');\n  } else {\n    // console.log('res', res);\n    return res.json();\n  }\n}).then(function (jsonData) {\n  data = jsonData.culturalEventInfo.row;\n  var currentContent = console.log(data); //해당 데이터의 키값의 해당 데이터가 비어 있으면 빈값 처리 해야함;\n\n  var id = getId();\n  renderInform(id, data);\n  renderSearchMap(getPlace(data, id));\n});\n\nfunction renderInform(currentPage, data) {\n  contentIMG.src = data[currentPage].MAIN_IMG === \"\" ? \"해당 정보없음\" : data[currentPage].MAIN_IMG;\n  title.value = data[currentPage].TITLE === \"\" ? \"해당 정보없음\" : data[currentPage].TITLE;\n  date.value = data[currentPage].DATE === \"\" ? \"해당 정보없음\" : data[currentPage].DATE;\n  place.value = data[currentPage].PLACE === \"\" ? \"해당 정보없음\" : data[currentPage].PLACE;\n  fee.value = data[currentPage].USE_FEE === \"\" ? \"해당 정보없음\" : data[currentPage].USE_FEE;\n  player.value = data[currentPage].PLAYER === \"\" ? \"해당 정보없음\" : data[currentPage].PLAYER;\n  program.textContent = data[currentPage].PROGRAM === \"\" ? \"\" : data[currentPage].PROGRAM;\n  desc.textContent = data[currentPage].ETC_DESC === \"\" ? \"\" : data[currentPage].ETC_DESC;\n  link.href = data[currentPage].ORG_LINK;\n} // kakaoMap api \n\n\nkakaoBtn.addEventListener('click', function (event) {\n  var id = getId();\n  errorMessage.style.display = 'none';\n  informField.style.display = 'none';\n  kakaoMapField.style.display = 'block';\n  renderSearchMap(getPlace(data, id));\n});\ninformBtn.addEventListener('click', function (event) {\n  var id = getId();\n  errorMessage.style.display = 'none';\n  kakaoMapField.style.display = 'none';\n  informField.style.display = 'block';\n  renderInform(id, data);\n});\n\nfunction renderSearchMap(place) {\n  // 장소 검색 객체를 생성합니다\n  var ps = new kakao.maps.services.Places(); // 키워드로 장소를 검색합니다\n\n  ps.keywordSearch(place, placesSearchCB.bind(null, place));\n}\n\nfunction placesSearchCB(place, data, status, pagination) {\n  //지도 옵션 설정\n  var options = {\n    center: new kakao.maps.LatLng(33.450701, 126.570667),\n    level: 3,\n    draggable: false,\n    scrollwheel: false,\n    disableDoubleClick: false\n  }; //지도 생성\n\n  var map = new kakao.maps.Map(kakaoMapField, options);\n\n  if (status === kakao.maps.services.Status.OK) {\n    console.log('data', data);\n    console.log(place, 'place입니다'); // 검색된 장소 위치를 기준으로 지도 범위를 재설정하기위해\n    // LatLngBounds 객체에 좌표를 추가합니다\n\n    var bounds = new kakao.maps.LatLngBounds();\n    var isPlaceReady = false;\n\n    for (var i = 0; i < place.length; i++) {\n      for (var j = 0; j < data.length; j++) {\n        if (place[i] === data[j].place_name) {\n          displayMarker(data[i], map);\n          bounds.extend(new kakao.maps.LatLng(data[i].y, data[i].x));\n          isPlaceReady = true;\n          console.log('해당 위치를 찾았습니다!');\n          break;\n        }\n      }\n\n      if (isPlaceReady) break;\n    }\n\n    if (!isPlaceReady) {\n      console.log('해당 위치를 여러개 찾습니다!');\n\n      for (var _i = 0; _i < data.length; _i++) {\n        displayMarker(data[_i], map);\n        bounds.extend(new kakao.maps.LatLng(data[_i].y, data[_i].x));\n      }\n    } // 검색된 장소 위치를 기준으로 지도 범위를 재설정합니다\n\n\n    map.setBounds(bounds);\n  } else {\n    renderError();\n  }\n} // 지도에 마커를 표시하는 함수입니다\n\n\nfunction displayMarker(place, map) {\n  // 마커를 생성하고 지도에 표시합니다\n  var marker = new kakao.maps.Marker({\n    map: map,\n    position: new kakao.maps.LatLng(place.y, place.x)\n  }); // 마커에 클릭이벤트를 등록합니다\n\n  kakao.maps.event.addListener(marker, 'click', function () {\n    // 마커를 클릭하면 장소명이 인포윈도우에 표출됩니다\n    infowindow.setContent('<div style=\"padding:5px;font-size:12px;\">' + place.place_name + '</div>');\n    infowindow.open(map, marker);\n  });\n}\n\nfunction getPlace(data, index) {\n  console.log('place', data[index].PLACE);\n  var place = data[index].PLACE;\n  var result = [];\n  var divisionIndex = 0;\n\n  for (var i = 0; i < place.length; i++) {\n    if (data[index].PLACE[i] === ',') continue;\n\n    if (data[index].PLACE[i] === ' ') {\n      result.push(place.substring(divisionIndex, i));\n      divisionIndex = i + 1;\n    }\n  }\n\n  result.push(place.substring(divisionIndex, place.length));\n  console.log('resut', result);\n  return result;\n}\n\nfunction renderError() {\n  kakaoMapField.style.display = 'none';\n  errorMessage.style.display = 'block';\n}\n\nfunction getId() {\n  var urlParams = new URLSearchParams(location.search);\n  return Number(urlParams.get('id'));\n}</script>\r\n    \r\n</body>\r\n</html>"},"sourceMaps":null,"error":null,"hash":"18a711fbf3d16a41ec915344493eb25a","cacheData":{"env":{}}}